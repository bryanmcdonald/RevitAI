# P2-08.2: Linework & Shape Tools

**Goal**: Provide advanced 2D linework tools for arcs, splines, circles, rectangles, ellipses, polylines, and style modification.

**Prerequisites**: P2-08.1 complete (DraftingHelper).

**Status**: Not started

---

## Tools (7)

| Tool | Purpose | RequiresTransaction |
|------|---------|---------------------|
| `place_detail_arc` | Draw arc (center, radius, start/end angles) | true |
| `place_detail_curve` | Draw splines and hermite curves | true |
| `place_detail_polyline` | Multi-segment connected line sequence | true |
| `place_detail_circle` | Full circle (360-degree arc) | true |
| `place_detail_rectangle` | Rectangle from two corners | true |
| `place_detail_ellipse` | Ellipse from center + radii | true |
| `modify_detail_curve_style` | Change line style of existing curves | true |

---

## Files to Create

```
src/RevitAI/Tools/DraftingTools/
    PlaceDetailArcTool.cs
    PlaceDetailCurveTool.cs
    PlaceDetailPolylineTool.cs
    PlaceDetailCircleTool.cs
    PlaceDetailRectangleTool.cs
    PlaceDetailEllipseTool.cs
    ModifyDetailCurveStyleTool.cs
```

---

## Key API Details

### Arc Creation
```csharp
Arc.Create(center, radius, startAngle, endAngle, XYZ.BasisX, XYZ.BasisY);
doc.Create.NewDetailCurve(view, arc);
```

### Spline/Hermite
```csharp
// NurbSpline
NurbSpline.CreateCurve(points, weights);

// HermiteSpline
HermiteSpline.Create(points, periodic: false);
```

### Circle (full 360)
Revit doesn't allow a full 360-degree arc in a single curve. Use two semicircular arcs:
```csharp
var arc1 = Arc.Create(center, radius, 0, Math.PI, XYZ.BasisX, XYZ.BasisY);
var arc2 = Arc.Create(center, radius, Math.PI, 2 * Math.PI, XYZ.BasisX, XYZ.BasisY);
```

### Ellipse
```csharp
Ellipse.CreateCurve(center, radiusX, radiusY, XYZ.BasisX, XYZ.BasisY, 0, 2 * Math.PI);
```
May need NurbSpline fallback if `NewDetailCurve` rejects Ellipse.

### Rectangle
Four `Line.CreateBound` calls forming a closed boundary.

### Polyline
Multiple `Line.CreateBound` calls for each segment.

---

## Verification (Manual)

1. Create a drafting view
2. "Draw an arc with radius 5 feet centered at 10,10 from 0 to 90 degrees"
3. "Draw a spline through (0,0), (5,3), (10,0), (15,5)"
4. "Draw a circle at 5,5 with radius 3"
5. "Draw a rectangle from (0,0) to (10,5)"
6. "Change the line style of element 12345 to 'Medium Lines'"
7. Verify all geometry appears correctly
